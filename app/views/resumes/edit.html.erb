<div data-controller="resume">
  <section class="flex justify-between w-full pl-16"> 
    <div class="max-w-screen-lg p-16 mb-16 bg-white shadow-2xl min-h-1000 mt-28" data-controller="pdfGenerate" data-pdfGenerate-target="pdfContent">
      <div class="flex">
        <div class="flex items-center justify-center inline-block custom-width-250px">
          <%= image_tag("defaultuser.png", class: "rounded-full w-32 h-32 mx-auto") %>
        </div>
        <div class="flex items-center inline-block w-60" data-resume-target="basicInfo">
          <p data-resume-target="basicInfoContent"><%= @formatted_basic_info %></p>
          <textarea data-resume-target="basicInfoForm" class="hidden w-full h-20 p-2 border rounded-md resize-y h-60"><%=  @resume.basic_info %></textarea>
        </div>
        <div class="inline-block w-1/2" data-resume-target="socialLinks">
          <p data-resume-target="socialLinksContent" class="break-words"><%= @formatted_social_links %></p>
          <textarea data-resume-target="socialLinksForm" class="hidden w-full h-20 p-2 border rounded-md h-60"><%= @resume.social_links %></textarea>
        </div>
      </div>
      <div class="pt-5l">
        <h1 data-resume-target="aboutMeTitle" class="py-3 text-xl font-bold h-200"><%= @resume.about_me_title%></h1>
        <input data-resume-target="aboutMeTitleForm" class="hidden w-full h-20 p-2 border rounded-md resize-y" value="<%= @resume.about_me_title%>">
        <p data-resume-target="aboutMeContent" class="overflow-auto"><%= @resume.about_me %></p>
        <textarea data-resume-target="aboutMeForm" class="hidden w-full h-20 p-2 border rounded-md resize-y"><%= @resume.about_me %></textarea>
      </div>
      <div class="pt-5l">
        <h1 class="py-3 text-xl font-bold">技能</h1>
        <ul class="relative">
          <% if @skills.present? %>
            <% @skills.each do |skill| %>
              <li> - <%= skill %></li>
            <% end %>
          <% else %>
            <li class="inline-block px-5 py-3 mr-2 border-2 border-gray-300 rounded-lg">請輸入技能</li>
          <% end %>
        </ul>
      </div>
      <div class="pt-5l">
        <h1 class="py-3 text-xl font-bold">語言</h1>
        <ul class="relative">
          <% if @languages.present? %>
            <% @languages.each do |language| %>
              <li> - <%= language %></li>
            <% end %>
          <% else %>
            <li class="inline-block px-5 py-3 mr-2 border-2 border-gray-300 rounded-lg">請輸入語言</li>
          <% end %>
        </ul>
      </div>
      <div class="pt-5l" data-resume-target="workExperience">
        <h1 data-resume-target="workExperienceTitle" class="py-3 text-xl font-bold"><%= @resume.work_experience_title %></h1>
        <input data-resume-target="workExperienceTitleForm" class="hidden w-full h-10 h-20 p-2 border rounded-md resize-y" value="<%= @resume.work_experience_title%>">
        <p data-resume-target="workExperienceContent" class="overflow-auto h-200"><%= @resume.work_experience %></p>
        <textarea data-resume-target="workExperienceForm" class="hidden w-full h-20 p-2 border rounded-md resize-y"><%= @resume.work_experience %></textarea>
      </div>
    </section>
    <div class="fixed bottom-0 right-0 bg-gray-200 top-68px">
      <div class="flex-col justify-between h-full overflow-y-scroll align-center">
        <div class="flex justify-center my-4">
          <a class="inline-block px-5 py-3 mx-auto text-center text-white rounded-lg cursor-pointer bg-amber-500 hover:bg-amber-800" href="#" data-action="click->resume#saveContent" data-account="<%= current_user.account %>" data-resume-target="updateContent" data-serial="<%= @resume.id %>">
            存儲更新
          </a>
          <button id="generatePdfBtn" class="inline-block px-5 py-3 mx-auto text-center text-white rounded-lg cursor-pointer bg-amber-500 hover:bg-amber-800" data-action="pdfGenerate#generate">下載 PDF</button>
        </div>
        <div class="px-10 pt-10 custom-width-250px">
          <p>組件一</p>
          <p>組件二</p>
          <p>組件三</p>
          <p>組件四</p>
        </div>
      </div>
    </div>
  </div>
